<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Para ti ‚ù§Ô∏è</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(120deg, #ff9a9e, #fad0c4);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 25px;
            width: 95%;
            max-width: 700px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        
        input {
            padding: 10px;
            width: 80%;
            border-radius: 10px;
            border: 1px solid #ccc;
            margin-bottom: 15px;
        }
        
        button {
            padding: 8px 14px;
            border: none;
            border-radius: 20px;
            background: #ff6f91;
            color: white;
            font-size: 14px;
            cursor: pointer;
            transition: 0.2s;
        }
        
        button:hover {
            background: #ff4f70;
        }
        
        .hidden {
            display: none;
        }
        
        .layout {
            display: flex;
            gap: 20px;
            align-items: flex-start;
            flex-wrap: wrap;
        }
        
        .dog-container {
            text-align: center;
            flex: 0 0 100px;
            position: relative;
        }
        
        .dog {
            font-size: 80px;
            display: inline-block;
            transition: transform 0.3s, left 0.5s, opacity 1s;
            position: relative;
            cursor: pointer;
        }
        
        .dog.happy {
            transform: scale(1.3) rotate(10deg);
        }
        
        .bar {
            width: 100px;
            height: 15px;
            background: #ddd;
            border-radius: 10px;
            margin-top: 10px;
            overflow: hidden;
        }
        
        .bar-fill {
            height: 100%;
            width: 0%;
            background: #ff6f91;
            border-radius: 10px;
            transition: width 0.3s;
        }
        
        .ball {
            font-size: 24px;
            cursor: pointer;
            display: block;
            margin: 10px auto;
            user-select: none;
            transition: transform 0.2s;
        }
        
        .board {
            flex: 0 0 60px;
            text-align: center;
        }
        
        .board button {
            display: block;
            margin-bottom: 10px;
            width: 50px;
        }
        
        .textBox {
            flex: 1;
            max-height: 400px;
            overflow-y: auto;
            font-size: 13px;
            line-height: 1.4;
            white-space: pre-wrap;
            padding: 10px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.8);
            box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.1);
        }
        
        .message {
            margin-top: 10px;
            font-style: italic;
            text-align: center;
        }
        
        .star {
            position: absolute;
            color: white;
            font-size: 12px;
            top: -10px;
            animation: fall linear infinite;
            opacity: 0.8;
        }
        
        @keyframes fall {
            0% {
                transform: translateY(0) rotate(0deg);
            }
            100% {
                transform: translateY(700px) rotate(360deg);
            }
        }
    </style>
</head>

<body>

    <div id="stars"></div>

    <div class="card" id="login">
        <h2>üîí Zona secreta</h2>
        <p>Introduce la clave</p>
        <input type="password" id="password" placeholder="Clave secreta">
        <br>
        <button onclick="checkPassword()">Entrar</button>
    </div>

    <div class="card hidden" id="content">
        <h2>Hola, mi amor üê∂‚ù§Ô∏è</h2>

        <div class="layout">
            <div class="dog-container">
                <div class="dog" id="dog">üêï</div>
                <div class="bar">
                    <div class="bar-fill" id="life"></div>
                </div>
                <div class="ball" id="ball">‚öΩ</div>
                <p class="message" id="dogMessage"></p>
            </div>

            <div class="board">
                <button onclick="openGift(0)">üéÅ</button>
                <button onclick="openGift(1)">üéÅ</button>
                <button onclick="openGift(2)">üéÅ</button>
                <button onclick="openGift(3)">üéÅ</button>
                <button onclick="resetGame()">‚ôªÔ∏è</button>
            </div>

            <div class="textBox" id="textBox"><i>Abre el primer regalo ‚ù§Ô∏è</i></div>
        </div>
    </div>

    <script>
        const CLAVE = "21";

        const textos = [
            `Voy a contarte una anecdota de mi tio,mi tio, un piltrafilla de mucho cuidado de joven como nosotros era un tanto timido
se paso su infancia en la busqueda de la adaptacion social, incluyendo la aceptacion de burlas, desprecios..insultos.. llego hasta un punto 
de su infancia o juventud que todo cambio gracias a los amigos que hizo, los cuales eran un poco malos, menos uno, tras novias y ropturas amorosas se enamoro fuertemente
de una joven alemana, me decia mi tio que sin conocerla estaba dispuesto a todo con ella, era estar cerca y su coraxzon latia exhaustivo
con la unica necesidad de irse, o encararse, ambos sintieron lo mismo, pero ella habia  salido de una ruptura, la inconciencia, la ignorancia y por supuesto
la falta de experiencia de mi tio hizo en el, que todos los miedos, inseguridades, preguntas, y por supuesto
noches de pensamientos, una persona fria, vengativa, rencorosa hasta cierto punto, y sobre todo dejada, ese interes fue perdiendose poco a poco, el me contaba que esa 
chica la cual era su novia, tampoco pasaba un momento facil, pero que hizo como el, escapar de ello, mi tio duro bastante tiempo con ella,
pero no era lo mismo, cada dia habia peleas, mi tio, dejado como si mismo ignoraba toda situacion y empezo a adquirir costumbres, culturas e ideas distintas a las noramles,
empezo a pensar en el mismo, se convirtio durante un gran tiempo en un pesimista llor√≥n,tras dias y meses de angustia supo y reconoci√≥, que dar el corazon a una persona, es lo mismo
que ser un cerdo y entrar al matadero, concluyo que su corazon era para su madre, y sus hermanos, quienes mostraron lealtad, y cari√±o, finalmente lo dejo con ella,
todo iba mal, y el ambiente cada vez era mas oscuro, meses despues volvieron, meses despues lo dejaron, y alfinal de la conversacion mi tia entr√≥ con su hija en brazos a la habitacion, y dijo
"manuel, sabes muy bien que la primera vez te dejo yo" mientras ella lo decia formaba una expresion de anelo y felicidad en su cara.
Con esto quiero decirte gorda, que el amor no se acaba,se fortalece, se mejora, y finalmente pasa a nuestras tumbas,el amor no es desconfianza, no son celos y por supuesto no es estar 24 horas juuntos
el amor es libertad, compa√±ia, bien estar, y sobre todo comunicacion estable, no en exceso, con este minirelato he querido reflejar como gente tan parecida a nosotros ha tenido un final feliz.
y mira que mi tio es complicado JAJAJAJ, no puedo decirte mucho mas de lo que todos los dias intento decirte, sobre inseguridades y no quieroe stropear la amgia de la carta, solo quiero decirte
que me hace feliz e ilusion volver a estar contigo, siento el trozo de mi lleno, y aunque sea dificil de llevar, a veces aspero o amargo con cari√±os o un gran pasota, es culpa de mi tio, he salido como el
JAJAJAJ es broma, te quiero gorda    PD: alimenta a la mascota,(Se llama chica)`
        ];

        let progreso = parseInt(localStorage.getItem("progreso"));
        if (isNaN(progreso)) progreso = 0;

        let vida = parseInt(localStorage.getItem("vida"));
        if (isNaN(vida)) vida = 50;

        let lastFeed = localStorage.getItem("lastFeed") || null;

        const dog = document.getElementById("dog");
        const fill = document.getElementById("life");
        const msg = document.getElementById("dogMessage");
        const textBox = document.getElementById("textBox");

        fill.style.width = vida + "%";

        // --- Revisa si pas√≥ un d√≠a
        function checkDay() {
            if (!lastFeed) return;
            const last = new Date(lastFeed);
            const now = new Date();
            const diff = (now - last) / 1000 / 60 / 60;
            if (diff >= 24) {
                dog.style.opacity = 0;
                fill.style.width = 0;
                msg.innerText = "Chica se fue‚Ä¶ cu√≠dala mejor la pr√≥xima vez ‚ù§Ô∏è";
            }
        }

        // --- Password
        function checkPassword() {
            const input = document.getElementById("password").value;
            if (input === CLAVE) {
                document.getElementById("login").classList.add("hidden");
                document.getElementById("content").classList.remove("hidden");
                initStars();
                checkDay();
            } else alert("Esa no es la clave ‚ù§Ô∏è");
        }

        // --- Abrir regalos
        function openGift(index) {
            if (index !== progreso) {
                alert("Este regalo todav√≠a no‚Ä¶ ve en orden ‚ù§Ô∏è");
                return;
            }
            textBox.innerText = textos[index];
            progreso++;
            localStorage.setItem("progreso", progreso);
        }

        // --- Alimentar perro
        function feedDog() {
            if (dog.style.opacity == 0) {
                alert("Chica se fue‚Ä¶ ya no puedes alimentarla üò¢");
                return;
            }
            const now = new Date();
            if (lastFeed) {
                const last = new Date(lastFeed);
                const diff = (now - last) / 1000 / 60 / 60;
                if (diff < 24) {
                    alert("Ya la alimentaste hoy ‚ù§Ô∏è");
                    return;
                }
            }
            vida += 25;
            if (vida > 100) vida = 100;
            fill.style.width = vida + "%";
            msg.innerText = "Gracias por cuidarme hoy ‚ù§Ô∏è";
            dog.classList.add("happy");
            setTimeout(() => dog.classList.remove("happy"), 500);
            lastFeed = now.toISOString();
            localStorage.setItem("vida", vida);
            localStorage.setItem("lastFeed", lastFeed);
        }

        // --- Pelotita movible
        const ball = document.getElementById("ball");
        ball.addEventListener("click", () => {
            dog.style.left = (Math.random() * 40 - 20) + "px";
            ball.style.transform = "scale(1.2)";
            setTimeout(() => ball.style.transform = "scale(1)", 200);
        });

        // --- Estrellitas
        function initStars() {
            const starsContainer = document.getElementById("stars");
            for (let i = 0; i < 30; i++) {
                const star = document.createElement("div");
                star.className = "star";
                star.style.left = Math.random() * window.innerWidth + "px";
                star.style.fontSize = (Math.random() * 10 + 8) + "px";
                star.style.animationDuration = (5 + Math.random() * 5) + "s";
                star.innerText = "‚≠ê";
                starsContainer.appendChild(star);
            }
        }

        // --- Bot√≥n reset
        function resetGame() {
            localStorage.clear();
            progreso = 0;
            vida = 50;
            fill.style.width = vida + "%";
            textBox.innerHTML = "<i>Abre el primer regalo ‚ù§Ô∏è</i>";
            dog.style.opacity = 1;
            msg.innerText = "";
            lastFeed = null;
            alert("Juego reiniciado üòé");
        }

        setInterval(checkDay, 60000);
    </script>
</body>

</html>